{
  "title": "Water Source Data Analysis",
  "description": "An integrated SQL project where students analyze survey data concerning water sources as part of President Naledi's water quality initiative. Students will explore database tables, identify data quality issues, and learn SQL querying techniques through guided discovery and reflection.",
  "narrative_context": "This data comes from President Naledi's water quality initiative. You are helping analyze survey data that will impact real communities in rural areas. The government will use your analysis to determine where to install new water purification systems and identify which communities face the most severe water access challenges. Your work matters - real families are waiting for clean water.",
  "id_prefix": "water",
  "version_tag": "v1.0",
  "estimated_minutes": 480,
  "learning_objectives": [
    {
      "level": "apply",
      "description": "Apply SQL querying techniques to explore and analyze real-world water source data"
    },
    {
      "level": "analyze",
      "description": "Analyze data quality issues and identify anomalies in survey datasets"
    },
    {
      "level": "create",
      "description": "Create SQL queries to clean and correct data systematically"
    },
    {
      "level": "evaluate",
      "description": "Evaluate the real-world impact of data-driven decisions on communities"
    }
  ],
  "content": "# Water Source Data Analysis Project\n\nWelcome to this integrated project where you'll analyze survey data about water sources. This data is part of a broader initiative announced by President Naledi to understand and improve water access and quality.\n\nThroughout this project, you'll:\n- Explore database tables and understand their structure\n- Write SQL queries to extract meaningful insights\n- Identify and correct data quality issues\n- Apply best practices for data validation and cleaning\n\n**Important**: Always test your queries on copy tables before modifying production data!",
  "epics": [
    {
      "title": "Introduction: Setting the Stage",
      "description": "Understanding the context of the water source analysis project and learning how to navigate unfamiliar databases",
      "estimated_minutes": 30,
      "priority": 0,
      "learning_objectives": [
        {
          "level": "understand",
          "description": "Understand the real-world context and importance of water source data analysis"
        },
        {
          "level": "remember",
          "description": "Recall basic SQL commands for database exploration"
        }
      ],
      "content": "# Project Introduction\n\nThis project focuses on analyzing water source survey data. You'll work with several database tables that contain information about:\n- Water source locations\n- Visits to water sources\n- Water quality measurements\n- Pollution data\n\n## Key Tips\n\n1. **SQL Basics**: Use `SHOW TABLES` when dealing with unfamiliar databases\n2. **Contextual Understanding**: Always understand the purpose of each table in the context of the overall objective\n3. **Data Dictionary**: Keep a data dictionary handy for quick reference\n\nLet's begin our data exploration journey!",
      "tasks": [
        {
          "title": "Understand the mission",
          "description": "Connect with the real-world purpose of this data analysis project before diving into technical work",
          "estimated_minutes": 15,
          "priority": 0,
          "learning_objectives": [
            {
              "level": "understand",
              "description": "Understand why water source data analysis matters for communities"
            }
          ],
          "content": "Before we write a single query, let's understand what we're really doing here and why it matters.",
          "subtasks": [
            {
              "title": "Reflect on the importance of water access",
              "subtask_type": "conversational",
              "description": "Consider why analyzing water source data is critical for community well-being.",
              "content": "President Naledi has announced a major initiative to improve water access across the country. Survey teams have been collecting data about water sources - where they are, how people access them, and whether the water is safe.\n\nBut raw data sitting in a database doesn't help anyone. That's where you come in.\n\nThink about this: What would your day look like if you didn't have reliable access to clean water? How would it affect your ability to work, study, or care for your family?",
              "learning_objectives": [
                {
                  "level": "evaluate",
                  "description": "Evaluate the human impact of water access challenges"
                }
              ],
              "tutor_guidance": {
                "teaching_approach": "Create emotional connection to the work before technical instruction",
                "discussion_prompts": [
                  "What would your morning routine look like without running water?",
                  "How might unreliable water access affect a child's education?",
                  "Why do you think the government needs data analysts for this initiative?"
                ]
              }
            },
            {
              "title": "Consider what questions data can answer",
              "subtask_type": "conversational",
              "description": "Think about what kinds of questions we might be able to answer with water source data.",
              "content": "Data analysis is about asking the right questions. Before we explore the database, let's think about what we might want to know.\n\nIf you were advising President Naledi on where to focus water improvement efforts, what would you want to know?",
              "dependencies": ["Reflect on the importance of water access"],
              "learning_objectives": [
                {
                  "level": "analyze",
                  "description": "Analyze what questions data analysis can address"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "What types of water sources exist, and which might need the most attention?",
                  "How would you identify communities with the worst water access?",
                  "What would 'bad' water quality data look like?"
                ]
              }
            }
          ]
        },
        {
          "title": "Discover what tables exist",
          "description": "Use SHOW TABLES to explore an unfamiliar database",
          "estimated_minutes": 10,
          "priority": 0,
          "dependencies": ["Understand the mission"],
          "learning_objectives": [
            {
              "level": "remember",
              "description": "Recall SHOW TABLES as a database exploration command"
            }
          ],
          "content": "When dealing with unfamiliar databases, SHOW TABLES is a helpful command to see what's available.",
          "subtasks": [
            {
              "title": "Run SHOW TABLES command",
              "subtask_type": "exercise",
              "description": "Use SHOW TABLES to see all tables in the md_water_services database",
              "estimated_minutes": 5,
              "acceptance_criteria": "- Student runs SHOW TABLES\n- Student can list the tables discovered\n- Student understands this is the first step when exploring unfamiliar databases",
              "content": "Run the following command to see what tables exist:\n\n```sql\nSHOW TABLES\n```\n\nThis is always a good first step when working with an unfamiliar database.",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply SHOW TABLES to explore database structure"
                }
              ],
              "tutor_guidance": {
                "teaching_approach": "Emphasize this as a foundational habit for database exploration",
                "hints_to_give": [
                  "SHOW TABLES is helpful when dealing with unfamiliar databases",
                  "Keep a data dictionary handy for quick reference"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "title": "Get to Know Our Data",
      "description": "Exploring the foundational tables and their structure",
      "estimated_minutes": 60,
      "priority": 0,
      "learning_objectives": [
        {
          "level": "remember",
          "description": "Recall the basic SELECT statement syntax"
        },
        {
          "level": "understand",
          "description": "Understand the structure and purpose of location, visits, and water_source tables"
        }
      ],
      "content": "# Understanding the Database Structure\n\nBefore diving into complex queries, we need to understand what data we're working with. The database contains several tables that track different aspects of water sources.\n\n## Tables Overview\n\n- **location**: Contains geographic information about water source locations\n- **visits**: Logs visits to water sources, including queue times\n- **water_source**: Details about different types of water sources\n\nYour first task is to explore these tables and understand their structure.",
      "tasks": [
        {
          "title": "Explore the location table",
          "description": "Examine the location table to understand how geographic information is stored",
          "estimated_minutes": 20,
          "priority": 0,
          "dependencies": ["Discover what tables exist"],
          "learning_objectives": [
            {
              "level": "apply",
              "description": "Apply the SELECT statement to retrieve data from a table"
            }
          ],
          "content": "# Exploring the Location Table\n\nThe `location` table contains geographic information about where water sources are located. This is crucial for understanding regional patterns in water access.",
          "subtasks": [
            {
              "title": "Think about what location data might tell us",
              "subtask_type": "conversational",
              "description": "Before querying, consider what geographic information could reveal about water access patterns.",
              "content": "The location table stores where each water source is located. Why might this matter?\n\nThink about it: If you were planning where to build new water infrastructure, what geographic factors would influence your decisions?",
              "learning_objectives": [
                {
                  "level": "analyze",
                  "description": "Analyze the relevance of geographic data for water access planning"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "Would urban and rural areas have different water source types?",
                  "How might distance from a water source affect daily life?",
                  "What patterns might we see across different regions?"
                ]
              }
            },
            {
              "title": "Write SELECT query for location table",
              "subtask_type": "exercise",
              "description": "Create a SQL query that selects all columns from the location table and limits results to 5 rows",
              "estimated_minutes": 10,
              "dependencies": ["Think about what location data might tell us"],
              "acceptance_criteria": "- Query returns exactly 5 rows from the location table\n- Uses SELECT * FROM location LIMIT 5\n- Student can describe what each column likely represents",
              "content": "Write a SQL query to examine the first 5 records in the location table.\n\n**Hint**: Use `SELECT * FROM table_name LIMIT n` to view a sample of rows.\n\n**Expected query structure**:\n```sql\nSELECT *\nFROM location\nLIMIT 5\n```",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply LIMIT clause to control query results"
                }
              ],
              "tutor_guidance": {
                "common_mistakes": [
                  "Forgetting the semicolon at the end",
                  "Using LIMIT before FROM"
                ],
                "hints_to_give": [
                  "Start with SELECT, then specify what columns (or * for all)",
                  "FROM tells SQL which table to look in",
                  "LIMIT restricts how many rows you get back"
                ]
              }
            }
          ]
        },
        {
          "title": "Explore the visits table",
          "description": "Examine the visits table to understand how water source visits are recorded",
          "estimated_minutes": 20,
          "priority": 0,
          "dependencies": ["Explore the location table"],
          "learning_objectives": [
            {
              "level": "apply",
              "description": "Apply SELECT with LIMIT to explore table structure"
            }
          ],
          "content": "# Exploring the Visits Table\n\nThe `visits` table logs each visit to a water source, including important metrics like queue times. Understanding this table is essential for analyzing water access patterns.",
          "subtasks": [
            {
              "title": "Consider what visit data reveals",
              "subtask_type": "conversational",
              "description": "Think about what patterns in visit data might tell us about water access challenges.",
              "content": "The visits table tracks when survey teams visited each water source. One key metric they recorded is `time_in_queue` - how long people were waiting in line for water.\n\nWhy would queue time be an important metric? What might long queue times indicate about a water source?",
              "learning_objectives": [
                {
                  "level": "evaluate",
                  "description": "Evaluate the significance of queue time as a water access metric"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "If you had to wait 2 hours for water, how would that affect your day?",
                  "What might cause some water sources to have longer queues than others?",
                  "How might queue times vary throughout the day?"
                ]
              }
            },
            {
              "title": "Write SELECT query for visits table",
              "subtask_type": "exercise",
              "description": "Create a SQL query that selects all columns from the visits table and limits results to 5 rows",
              "estimated_minutes": 10,
              "dependencies": ["Consider what visit data reveals"],
              "acceptance_criteria": "- Query returns exactly 5 rows from the visits table\n- Uses SELECT * FROM visits LIMIT 5\n- Student notices the time_in_queue column",
              "content": "Write a SQL query to examine the first 5 records in the visits table.\n\n**Expected query structure**:\n```sql\nSELECT *\nFROM visits\nLIMIT 5\n```",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply basic SELECT syntax to retrieve data"
                }
              ]
            }
          ]
        },
        {
          "title": "Explore the water_source table",
          "description": "Examine the water_source table to understand the types and characteristics of water sources",
          "estimated_minutes": 20,
          "priority": 1,
          "dependencies": ["Explore the visits table"],
          "learning_objectives": [
            {
              "level": "understand",
              "description": "Understand the different types of water sources in the database"
            }
          ],
          "content": "# Exploring the Water Source Table\n\nThe `water_source` table contains information about different water sources, including their type and characteristics.",
          "subtasks": [
            {
              "title": "Predict what types of water sources might exist",
              "subtask_type": "conversational",
              "description": "Before seeing the data, consider what different types of water sources communities might use.",
              "content": "Before we look at the data, let's think about what types of water sources might exist.\n\nIn your experience or imagination, how do people get water? What different methods or sources might communities rely on?",
              "learning_objectives": [
                {
                  "level": "remember",
                  "description": "Recall different types of water sources from real-world knowledge"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "What's the difference between having a tap in your home versus sharing one?",
                  "What about areas without any tap infrastructure?",
                  "Are all water sources equally safe or convenient?"
                ]
              }
            },
            {
              "title": "Write SELECT query for water_source table",
              "subtask_type": "exercise",
              "description": "Create a SQL query that selects all columns from the water_source table and limits results to 5 rows",
              "estimated_minutes": 10,
              "dependencies": ["Predict what types of water sources might exist"],
              "acceptance_criteria": "- Query returns exactly 5 rows from the water_source table\n- Uses SELECT * FROM water_source LIMIT 5\n- Student identifies the type_of_water_source column",
              "content": "Write a SQL query to examine the first 5 records in the water_source table.\n\n**Expected query structure**:\n```sql\nSELECT *\nFROM water_source\nLIMIT 5\n```",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply SELECT statement to explore new tables"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "title": "Dive into Water Sources",
      "description": "Understanding different water source types using SELECT DISTINCT",
      "estimated_minutes": 45,
      "priority": 1,
      "dependencies": ["Get to Know Our Data"],
      "learning_objectives": [
        {
          "level": "apply",
          "description": "Apply SELECT DISTINCT to identify unique values"
        },
        {
          "level": "analyze",
          "description": "Analyze the different types of water sources and their implications"
        }
      ],
      "content": "# Identifying Unique Water Source Types\n\nNow that you've explored the basic structure of the tables, it's time to dig deeper into the water sources themselves.\n\n## Why DISTINCT Matters\n\nWhen analyzing data, you often need to know what unique values exist in a column. The `DISTINCT` keyword helps you identify all unique values without repetition.",
      "tasks": [
        {
          "title": "Identify unique water source types",
          "description": "Find all unique types of water sources in the database",
          "estimated_minutes": 30,
          "priority": 0,
          "dependencies": ["Explore the water_source table"],
          "learning_objectives": [
            {
              "level": "apply",
              "description": "Apply SELECT DISTINCT to find unique column values"
            }
          ],
          "content": "# Finding Unique Water Source Types\n\nThe water_source table contains a column called `type_of_water_source`. We need to identify all the different types of water sources recorded in the survey.",
          "subtasks": [
            {
              "title": "Discuss why knowing unique values matters",
              "subtask_type": "conversational",
              "description": "Understand the analytical value of identifying unique categories in data.",
              "content": "Looking at individual rows is helpful, but sometimes we need to see the bigger picture. If there are thousands of water sources in the database, how many different *types* are there?\n\nWhy would knowing the unique types help President Naledi's team plan water improvements?",
              "learning_objectives": [
                {
                  "level": "understand",
                  "description": "Understand why categorical analysis is important for planning"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "If you wanted to prioritize improvements, would you focus on source type or location first?",
                  "Why can't we just scroll through all the data to find the types?",
                  "How might different source types require different solutions?"
                ]
              }
            },
            {
              "title": "Write SELECT DISTINCT query",
              "subtask_type": "exercise",
              "description": "Create a SQL query that returns all unique values from the type_of_water_source column",
              "estimated_minutes": 15,
              "dependencies": ["Discuss why knowing unique values matters"],
              "acceptance_criteria": "- Query returns all unique type_of_water_source values with no duplicates\n- Uses SELECT DISTINCT type_of_water_source FROM water_source\n- Student can list the different water source types found",
              "content": "Write a query to find all unique water source types.\n\n**Hint**: Use `SELECT DISTINCT column_name FROM table_name`\n\n**Expected query structure**:\n```sql\nSELECT DISTINCT type_of_water_source\nFROM water_source\n```",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply DISTINCT keyword to eliminate duplicate values"
                }
              ],
              "tutor_guidance": {
                "common_mistakes": [
                  "Putting DISTINCT after the column name instead of before",
                  "Using UNIQUE instead of DISTINCT"
                ]
              }
            },
            {
              "title": "Reflect on what the water source types reveal",
              "subtask_type": "conversational",
              "description": "Analyze what the discovered water source types tell us about community water access.",
              "content": "Now that you've seen the different water source types, what do they tell you?\n\nCompare sources like 'tap_in_home' versus 'shared_tap' versus 'well'. What are the implications for daily life with each type? Which communities might be most vulnerable?",
              "dependencies": ["Write SELECT DISTINCT query"],
              "learning_objectives": [
                {
                  "level": "evaluate",
                  "description": "Evaluate the equity implications of different water source types"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "Which water source type would you prefer to have? Why?",
                  "What challenges might come with shared water sources?",
                  "How might seasonal changes affect different source types?"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "title": "Unpack the Visits",
      "description": "Discovering visit patterns and analyzing queue times",
      "estimated_minutes": 60,
      "priority": 1,
      "dependencies": ["Dive into Water Sources"],
      "learning_objectives": [
        {
          "level": "apply",
          "description": "Apply WHERE clause to filter data based on conditions"
        },
        {
          "level": "analyze",
          "description": "Analyze the real-world implications of long water queue times"
        }
      ],
      "content": "# Analyzing Water Source Visits\n\nVisits to water sources tell us important stories about water access. One critical metric is `time_in_queue` - how long people wait to collect water.\n\n## Tips\n\n1. **Query Construction**: Guide on building conditional SQL queries using the WHERE clause\n2. **Critical Thinking**: Engage in discussions on the real-world implications of the data",
      "tasks": [
        {
          "title": "Filter visits with long queue times",
          "description": "Locate and filter visit records where people waited more than 500 minutes",
          "estimated_minutes": 45,
          "priority": 0,
          "dependencies": ["Identify unique water source types"],
          "learning_objectives": [
            {
              "level": "apply",
              "description": "Apply WHERE clause with comparison operators"
            },
            {
              "level": "evaluate",
              "description": "Evaluate the significance of long queue times in water access"
            }
          ],
          "content": "# Finding Long Queue Times\n\nThe visits table contains a column called `time_in_queue` that records how many minutes people waited to collect water.\n\n**Think about it**: 500 minutes is over 8 hours. What does this tell us about water access in these areas?",
          "subtasks": [
            {
              "title": "Consider the human impact of 500-minute waits",
              "subtask_type": "conversational",
              "description": "Before writing the query, deeply consider what waiting 8+ hours for water means for real people.",
              "content": "We're about to search for visits where `time_in_queue` exceeds 500 minutes. Let that sink in: **over 8 hours of waiting just to collect water**.\n\nImagine a mother who needs to collect water for her family. If she spends 8 hours waiting at a water source, what else doesn't happen that day?\n\nOr consider a child who needs to fetch water before school. What happens to their education if the queue takes all morning?",
              "learning_objectives": [
                {
                  "level": "evaluate",
                  "description": "Evaluate the profound human cost of water access challenges"
                }
              ],
              "tutor_guidance": {
                "teaching_approach": "Make this deeply personal - this is the emotional core of the project",
                "discussion_prompts": [
                  "What activities would you have to give up if you spent 8 hours getting water?",
                  "How would this affect someone's ability to work and earn income?",
                  "What about caring for young children or elderly family members?",
                  "Why might people endure such long waits instead of finding alternatives?"
                ]
              }
            },
            {
              "title": "Write WHERE clause query for long queues",
              "subtask_type": "exercise",
              "description": "Create a SQL query that filters visits table for queue times exceeding 500 minutes",
              "estimated_minutes": 15,
              "dependencies": ["Consider the human impact of 500-minute waits"],
              "acceptance_criteria": "- Query returns only rows where time_in_queue > 500\n- Uses WHERE time_in_queue > 500\n- Student can explain what the results represent",
              "content": "Write a SQL query to filter the visits table for queue times greater than 500 minutes.\n\n**Hint**: Use `WHERE column_name > value`\n\n**Expected query structure**:\n```sql\nSELECT *\nFROM visits\nWHERE time_in_queue > 500\n```",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply comparison operators in WHERE clauses"
                }
              ],
              "tutor_guidance": {
                "common_mistakes": [
                  "Using = instead of >",
                  "Putting quotes around the number 500",
                  "Forgetting WHERE comes after FROM"
                ]
              }
            },
            {
              "title": "Analyze which sources have the worst queues",
              "subtask_type": "conversational",
              "description": "Look at the results and identify patterns in which sources have extreme wait times.",
              "content": "Now that you have the results, look at the source_id values. Do you notice any patterns?\n\nThese aren't just database records - each row represents a real day when real people waited over 8 hours. What would you recommend to President Naledi's team about these locations?",
              "dependencies": ["Write WHERE clause query for long queues"],
              "learning_objectives": [
                {
                  "level": "analyze",
                  "description": "Analyze patterns in extreme queue time data"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "Are certain source types more likely to have long queues?",
                  "What interventions might reduce queue times?",
                  "How would you prioritize which sources to address first?"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "title": "Water Source Quality Assessment",
      "description": "Understanding water quality scores and identifying data anomalies",
      "estimated_minutes": 90,
      "priority": 1,
      "dependencies": ["Unpack the Visits"],
      "learning_objectives": [
        {
          "level": "apply",
          "description": "Apply multiple conditions in SQL queries using AND"
        },
        {
          "level": "analyze",
          "description": "Analyze data quality issues and identify anomalies"
        }
      ],
      "content": "# Assessing Water Quality\n\nWater quality scores help us understand which sources are safe to use. However, data collection errors can occur, and it's our job to find and fix them.\n\n## Data Quality Matters\n\nIncorrect data can lead to wrong decisions. Learning to identify and correct data errors is a critical skill.",
      "tasks": [
        {
          "title": "Query specific water sources by ID",
          "description": "Examine specific water sources using the IN operator",
          "estimated_minutes": 30,
          "priority": 1,
          "dependencies": ["Filter visits with long queue times"],
          "learning_objectives": [
            {
              "level": "apply",
              "description": "Apply IN operator to filter multiple specific values"
            }
          ],
          "content": "# Examining Specific Water Sources\n\nSometimes we need to look at specific water sources identified by their IDs. The `IN` operator allows us to filter for multiple specific values at once.",
          "subtasks": [
            {
              "title": "Understand when to use IN vs multiple ORs",
              "subtask_type": "conversational",
              "description": "Learn why IN is more elegant than chaining multiple OR conditions.",
              "content": "Imagine you need to look up 7 specific water sources by their IDs. You could write:\n\n```sql\nWHERE source_id = 'ABC' OR source_id = 'DEF' OR source_id = 'GHI' ...\n```\n\nThat gets messy fast! There's a cleaner way. What if SQL had a way to say \"give me rows where the value is in this list\"?",
              "learning_objectives": [
                {
                  "level": "understand",
                  "description": "Understand the practical value of the IN operator"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "What problems might arise with very long OR chains?",
                  "How would you modify a query to check 20 IDs using OR? 100 IDs?"
                ]
              }
            },
            {
              "title": "Use IN operator to filter multiple IDs",
              "subtask_type": "exercise",
              "description": "Create a query that returns water sources matching specific source_id values",
              "estimated_minutes": 15,
              "dependencies": ["Understand when to use IN vs multiple ORs"],
              "acceptance_criteria": "- Query returns exactly the 7 specified water sources\n- Uses IN operator with all 7 source IDs\n- Query is syntactically correct with proper string quoting",
              "content": "Write a query to examine these specific source IDs:\n- AkRu05234224\n- AkKi00881224\n- SoRu37635224\n- SoRu36096224\n- HaZa21742224\n- AkLu01628224\n- SoRu38776224\n\n**Expected query structure**:\n```sql\nSELECT *\nFROM water_source\nWHERE source_id IN (\n    'AkRu05234224',\n    'AkKi00881224',\n    'SoRu37635224',\n    'SoRu36096224',\n    'HaZa21742224',\n    'AkLu01628224',\n    'SoRu38776224'\n)\n```",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply IN operator for multiple value filtering"
                }
              ],
              "tutor_guidance": {
                "common_mistakes": [
                  "Forgetting quotes around string values",
                  "Missing commas between values",
                  "Using = instead of IN"
                ]
              }
            }
          ]
        },
        {
          "title": "Find data quality anomalies",
          "description": "Identify water quality records with contradictory data",
          "estimated_minutes": 45,
          "priority": 0,
          "dependencies": ["Query specific water sources by ID"],
          "learning_objectives": [
            {
              "level": "analyze",
              "description": "Analyze data to find logical inconsistencies"
            },
            {
              "level": "apply",
              "description": "Apply multiple WHERE conditions using AND"
            }
          ],
          "content": "# Finding Quality Score Errors\n\nThe `water_quality` table contains quality scores for water sources. We've discovered that some entries have errors:\n\n**The Problem**: Some shared taps (visited 2 times) have been incorrectly given a perfect quality score of 10. Only taps in homes should have a perfect 10 score.",
          "subtasks": [
            {
              "title": "Understand the data quality problem",
              "subtask_type": "conversational",
              "description": "Understand why certain combinations of values indicate errors.",
              "content": "Here's what we know about the survey methodology:\n\n- **tap_in_home**: Visited once, should have high quality scores (up to 10)\n- **shared_tap**: Visited twice (once during rush hour), quality should be lower due to inconvenience\n\nIf a water source was visited twice (`visit_count = 2`), it's a shared tap. Shared taps shouldn't have a perfect 10 quality score because people have to wait and share.\n\nSo if we find records where `visit_count = 2` AND `subjective_quality_score = 10`, what does that indicate?",
              "learning_objectives": [
                {
                  "level": "analyze",
                  "description": "Analyze how domain knowledge helps identify data errors"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "Why would a shared tap have lower quality scores than a home tap?",
                  "What might have caused surveyors to record incorrect scores?",
                  "How could incorrect data affect policy decisions?"
                ]
              }
            },
            {
              "title": "Write multi-condition query for anomalies",
              "subtask_type": "exercise",
              "description": "Create a query using AND to find records with contradictory quality data",
              "estimated_minutes": 20,
              "dependencies": ["Understand the data quality problem"],
              "acceptance_criteria": "- Query returns only rows where visit_count=2 AND subjective_quality_score=10\n- Uses WHERE with AND to combine both conditions\n- Student can explain why these records are problematic",
              "content": "Write a query to find quality records where both conditions are true:\n- `visit_count = 2` (indicating shared taps)\n- `subjective_quality_score = 10` (which should only apply to home taps)\n\n**Expected query structure**:\n```sql\nSELECT *\nFROM water_quality\nWHERE visit_count = 2\nAND subjective_quality_score = 10\n```\n\n**Why this matters**: These records represent data entry errors that could lead to wrong conclusions about water quality.",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply AND operator to combine multiple conditions"
                },
                {
                  "level": "analyze",
                  "description": "Analyze data for logical inconsistencies"
                }
              ],
              "tutor_guidance": {
                "answer_rationale": "Visit count = 2 is a crude filter to limit the results to shared_tap, since they were the only type visited > 2. These taps should not have a perfect 10 score, because they are not tap_in_home. Both conditions must be true for the results. This fetches all of the records where employees made errors.",
                "common_mistakes": [
                  "Using OR instead of AND",
                  "Forgetting that both conditions must be true"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "title": "Pollution Issues Investigation",
      "description": "Correcting pollution data using LIKE patterns and UPDATE statements",
      "estimated_minutes": 120,
      "priority": 1,
      "dependencies": ["Water Source Quality Assessment"],
      "learning_objectives": [
        {
          "level": "apply",
          "description": "Apply LIKE operator with wildcards for pattern matching"
        },
        {
          "level": "create",
          "description": "Create UPDATE queries to systematically correct data errors"
        },
        {
          "level": "evaluate",
          "description": "Evaluate data corrections before applying to production tables"
        }
      ],
      "content": "# Investigating and Correcting Pollution Data\n\nThe `well_pollution` table contains critical information about water contamination. However, we've discovered some data entry errors that need to be corrected.\n\n## Data Safety First!\n\n**IMPORTANT**: Always work on a copy of the table when testing corrections. Never modify production data until you're certain your queries are correct.\n\n## Common Errors Found\n\n1. Wells marked as \"Clean\" that actually have biological contamination\n2. Description fields with extra text like \"Clean Bacteria: E. coli\" instead of just \"Bacteria: E. coli\"",
      "tasks": [
        {
          "title": "Explore well pollution data",
          "description": "Examine the well_pollution table to understand its structure",
          "estimated_minutes": 15,
          "priority": 0,
          "dependencies": ["Find data quality anomalies"],
          "learning_objectives": [
            {
              "level": "understand",
              "description": "Understand the structure of pollution tracking data"
            }
          ],
          "content": "# Exploring the Well Pollution Table\n\nBefore we can fix errors, we need to understand what the data looks like.",
          "subtasks": [
            {
              "title": "SELECT from well_pollution table",
              "subtask_type": "exercise",
              "description": "Create a query to examine the well_pollution table",
              "estimated_minutes": 10,
              "acceptance_criteria": "- Query successfully retrieves data from well_pollution table\n- Student can identify key columns: results, description, biological",
              "content": "Write a query to view records from the well_pollution table.\n\n**Expected query**:\n```sql\nSELECT *\nFROM well_pollution\n```\n\nPay attention to the `results`, `description`, and `biological` columns - we'll be working with these.",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply SELECT to explore pollution data"
                }
              ]
            }
          ]
        },
        {
          "title": "Identify contradictory pollution records",
          "description": "Find wells marked as 'Clean' that actually have biological contamination",
          "estimated_minutes": 30,
          "priority": 0,
          "dependencies": ["Explore well pollution data"],
          "learning_objectives": [
            {
              "level": "analyze",
              "description": "Analyze pollution data for logical contradictions"
            }
          ],
          "content": "# Finding Contradictory Data\n\nWe need to find records where:\n- The `results` field says \"Clean\"\n- BUT the `biological` field shows contamination > 0.01\n\nThese two conditions contradict each other - if there's biological contamination, the water isn't clean!",
          "subtasks": [
            {
              "title": "Discuss the health implications of mislabeled wells",
              "subtask_type": "conversational",
              "description": "Consider what happens when contaminated water is incorrectly labeled as clean.",
              "content": "We're looking for a serious problem: wells that contain biological contamination (bacteria, parasites) but are marked as \"Clean\" in the database.\n\nIf a family uses a well that's marked as clean but is actually contaminated, what could happen? Why is fixing this data literally a matter of life and health?",
              "learning_objectives": [
                {
                  "level": "evaluate",
                  "description": "Evaluate the life-or-death importance of accurate water quality data"
                }
              ],
              "tutor_guidance": {
                "teaching_approach": "This is about accountability - data quality has real consequences",
                "discussion_prompts": [
                  "What diseases can be spread through contaminated water?",
                  "Who might be most vulnerable to waterborne illness?",
                  "How does this change how you think about 'just data entry errors'?"
                ]
              }
            },
            {
              "title": "Query for clean results with contamination",
              "subtask_type": "exercise",
              "description": "Write a query to find wells marked clean but with biological > 0.01",
              "estimated_minutes": 15,
              "dependencies": ["Discuss the health implications of mislabeled wells"],
              "acceptance_criteria": "- Query returns rows where results='Clean' AND biological > 0.01\n- Uses WHERE with AND to combine both conditions\n- Student understands why these records are dangerous",
              "content": "Write a query to find the contradiction:\n\n**Expected query**:\n```sql\nSELECT *\nFROM well_pollution\nWHERE results = 'Clean'\nAND biological > 0.01\n```\n\n**Logic**: If biological contamination exists (> 0.01), the well should NOT be marked as clean.",
              "learning_objectives": [
                {
                  "level": "analyze",
                  "description": "Analyze data for contradictory values"
                }
              ],
              "tutor_guidance": {
                "answer_rationale": "If results = 'Clean' the description is saying the well is clean, but AND biological > 0.01 says it is polluted. So this query finds the records that say clean, but are actually dirty."
              }
            }
          ]
        },
        {
          "title": "Use LIKE for pattern matching",
          "description": "Find descriptions with extra 'Clean_' prefix using wildcards",
          "estimated_minutes": 30,
          "priority": 0,
          "dependencies": ["Identify contradictory pollution records"],
          "learning_objectives": [
            {
              "level": "apply",
              "description": "Apply LIKE operator with wildcard characters"
            },
            {
              "level": "understand",
              "description": "Understand wildcard characters (_ and %) in pattern matching"
            }
          ],
          "content": "# Pattern Matching with LIKE\n\nSome descriptions have been incorrectly entered with \"Clean_\" prefix. For example:\n- \"Clean Bacteria: E. coli\" (incorrect)\n- \"Clean Bacteria: Giardia Lamblia\" (incorrect)\n\nThese should just be:\n- \"Bacteria: E. coli\" (correct)\n- \"Bacteria: Giardia Lamblia\" (correct)\n\n## Understanding Wildcards\n\n- `_` (underscore) = exactly one character\n- `%` (percent) = any number of characters (including zero)",
          "subtasks": [
            {
              "title": "Understand pattern matching with wildcards",
              "subtask_type": "conversational",
              "description": "Learn how LIKE with wildcards works before using it.",
              "content": "Sometimes we need to find values that match a pattern, not an exact value. SQL's LIKE operator lets us do this.\n\nTwo special characters help:\n- `_` matches exactly ONE character (any character)\n- `%` matches ZERO OR MORE characters\n\nSo if we search for `'Clean_%'`:\n- `Clean_` means 'Clean' followed by at least one character\n- `%` means any additional characters after that\n\nWould 'Clean' by itself match this pattern? What about 'Clean Bacteria: E. coli'?",
              "learning_objectives": [
                {
                  "level": "understand",
                  "description": "Understand how LIKE wildcards work"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "What's the difference between 'Clean%' and 'Clean_%'?",
                  "How would you match anything ending in '.txt'?",
                  "Why is pattern matching useful for finding data entry errors?"
                ]
              }
            },
            {
              "title": "Write LIKE query with wildcards",
              "subtask_type": "exercise",
              "description": "Create a query using LIKE 'Clean_%' to find incorrectly prefixed descriptions",
              "estimated_minutes": 15,
              "dependencies": ["Understand pattern matching with wildcards"],
              "acceptance_criteria": "- Query returns all rows where description starts with 'Clean' followed by at least one character\n- Uses WHERE description LIKE 'Clean_%'\n- Student can explain what the pattern matches",
              "content": "Write a query using LIKE to find descriptions with the \"Clean_\" pattern:\n\n**Expected query**:\n```sql\nSELECT *\nFROM well_pollution\nWHERE description LIKE 'Clean_%'\n```\n\n**Pattern breakdown**:\n- `Clean` = must start with exactly this text\n- `_` = must have at least 1 character after Clean\n- `%` = can have any other characters after that",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply LIKE with wildcard patterns"
                }
              ],
              "tutor_guidance": {
                "answer_rationale": "'Clean_%' means it starts with 'Clean', (_) have at least one character after 'Clean' and (%) can have any other characters after that.",
                "common_mistakes": [
                  "Forgetting the quotes around the pattern",
                  "Using * instead of %",
                  "Using LIKE = instead of just LIKE"
                ]
              }
            }
          ]
        },
        {
          "title": "Correct pollution data errors",
          "description": "Use UPDATE statements to fix the identified errors",
          "estimated_minutes": 45,
          "priority": 0,
          "dependencies": ["Use LIKE for pattern matching"],
          "learning_objectives": [
            {
              "level": "create",
              "description": "Create UPDATE queries to modify multiple columns"
            },
            {
              "level": "evaluate",
              "description": "Evaluate the safety of data modifications before execution"
            }
          ],
          "content": "# Correcting the Data\n\nNow that we've identified the errors, we need to fix them.\n\n## IMPORTANT: Test First!\n\nCreate a copy table (`well_pollution_copy`) and test your updates there before modifying the original table.",
          "subtasks": [
            {
              "title": "Discuss the responsibility of modifying data",
              "subtask_type": "conversational",
              "description": "Understand the gravity of UPDATE statements and why we test on copies.",
              "content": "We're about to use UPDATE statements to change data in the database. This is powerful - and dangerous.\n\nUnlike SELECT (which just reads), UPDATE **modifies** the actual data. If you make a mistake, you could corrupt the entire database.\n\nWhy do you think we should ALWAYS test updates on a copy table first? What could go wrong if we updated the production data directly?",
              "learning_objectives": [
                {
                  "level": "evaluate",
                  "description": "Evaluate the risks of data modification"
                }
              ],
              "tutor_guidance": {
                "teaching_approach": "Instill appropriate caution without fear",
                "discussion_prompts": [
                  "What if your WHERE clause accidentally matched more rows than intended?",
                  "How would you undo an UPDATE if you made a mistake?",
                  "Why might companies have 'read-only' vs 'read-write' database permissions?"
                ]
              }
            },
            {
              "title": "Create a copy table for safe testing",
              "subtask_type": "exercise",
              "description": "Create well_pollution_copy to test UPDATE queries before modifying production data",
              "estimated_minutes": 10,
              "dependencies": ["Discuss the responsibility of modifying data"],
              "acceptance_criteria": "- Copy table well_pollution_copy created successfully\n- Contains same data as original well_pollution table\n- Student understands why testing on a copy is essential",
              "content": "Before running any UPDATE statements, create a copy of the table to test on:\n\n**Expected query**:\n```sql\nCREATE TABLE well_pollution_copy AS\nSELECT * FROM well_pollution\n```\n\nNow you can safely test your UPDATE queries on `well_pollution_copy` without risking the original data.",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply CREATE TABLE AS SELECT to create backup copies"
                }
              ],
              "tutor_guidance": {
                "teaching_approach": "Emphasize this as a professional best practice",
                "hints_to_give": [
                  "Always make a copy before modifying production data",
                  "Test your UPDATE on the copy first"
                ]
              }
            },
            {
              "title": "Create UPDATE query for E. coli results",
              "subtask_type": "exercise",
              "description": "Write UPDATE to set results='Contaminated: Biological' for E. coli with contamination",
              "estimated_minutes": 15,
              "dependencies": ["Create a copy table for safe testing"],
              "acceptance_criteria": "- UPDATE query correctly sets results for 'Bacteria: E. coli' where biological > 0.01\n- Student tests query on copy table first\n- Student can explain what rows will be affected",
              "content": "Create the first UPDATE query to fix Case 1:\n\nWhere `description = 'Bacteria: E. coli'` AND `biological > 0.01`, set `results = 'Contaminated: Biological'`\n\n**Expected query**:\n```sql\nUPDATE well_pollution\nSET results = 'Contaminated: Biological'\nWHERE description = 'Bacteria: E. coli'\nAND biological > 0.01\n```",
              "learning_objectives": [
                {
                  "level": "create",
                  "description": "Create UPDATE statements with multiple WHERE conditions"
                }
              ]
            },
            {
              "title": "Create UPDATE for Clean E. coli descriptions",
              "subtask_type": "exercise",
              "description": "Write UPDATE to fix both description and results for 'Clean Bacteria: E. coli'",
              "estimated_minutes": 15,
              "dependencies": ["Create UPDATE query for E. coli results"],
              "acceptance_criteria": "- UPDATE query modifies both description and results columns\n- WHERE clause correctly targets 'Clean Bacteria: E. coli'\n- Student understands that one UPDATE can set multiple columns",
              "content": "Create UPDATE to fix 'Clean E. coli' entries - this changes TWO columns:\n\n**Expected query**:\n```sql\nUPDATE well_pollution\nSET \n    results = 'Contaminated: Biological',\n    description = 'Bacteria: E. coli'\nWHERE description = 'Clean Bacteria: E. coli'\n```\n\n**Note**: One UPDATE can set multiple columns by separating them with commas!",
              "learning_objectives": [
                {
                  "level": "create",
                  "description": "Create UPDATE statements that modify multiple columns"
                }
              ]
            },
            {
              "title": "Create UPDATE for Clean Giardia descriptions",
              "subtask_type": "exercise",
              "description": "Write UPDATE to fix both description and results for 'Clean Bacteria: Giardia Lamblia'",
              "estimated_minutes": 10,
              "dependencies": ["Create UPDATE for Clean E. coli descriptions"],
              "acceptance_criteria": "- UPDATE query modifies both description and results for Giardia Lamblia\n- WHERE clause correctly targets 'Clean Bacteria: Giardia Lamblia'",
              "content": "Create UPDATE to fix 'Clean Giardia' entries:\n\n**Expected query**:\n```sql\nUPDATE well_pollution\nSET \n    results = 'Contaminated: Biological',\n    description = 'Bacteria: Giardia Lamblia'\nWHERE description = 'Clean Bacteria: Giardia Lamblia'\n```",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply UPDATE pattern to fix similar data quality issues"
                }
              ]
            }
          ]
        },
        {
          "title": "Verify data corrections",
          "description": "Write validation queries to confirm all errors have been fixed",
          "estimated_minutes": 20,
          "priority": 0,
          "dependencies": ["Correct pollution data errors"],
          "learning_objectives": [
            {
              "level": "evaluate",
              "description": "Evaluate the effectiveness of data corrections"
            },
            {
              "level": "create",
              "description": "Create comprehensive validation queries"
            }
          ],
          "content": "# Verifying Your Corrections\n\nAfter making updates, ALWAYS verify that your changes worked correctly and didn't introduce new problems.",
          "subtasks": [
            {
              "title": "Understand verification as a discipline",
              "subtask_type": "conversational",
              "description": "Learn why verification is essential, not optional.",
              "content": "You've written UPDATE queries. But how do you know they worked?\n\nIn professional data work, every change must be verified. \"I think it worked\" isn't good enough when people's health depends on accurate water quality data.\n\nWhat query would you run to check if any errors remain?",
              "learning_objectives": [
                {
                  "level": "evaluate",
                  "description": "Evaluate the importance of verification in data work"
                }
              ],
              "tutor_guidance": {
                "discussion_prompts": [
                  "What if an UPDATE worked on 90% of rows but failed on 10%?",
                  "How would you know if you accidentally corrupted good data?",
                  "What verification would you want before marking this project 'complete'?"
                ]
              }
            },
            {
              "title": "Write verification query",
              "subtask_type": "exercise",
              "description": "Create a query using OR to check for any remaining data quality issues",
              "estimated_minutes": 15,
              "dependencies": ["Understand verification as a discipline"],
              "acceptance_criteria": "- Query returns zero rows if all corrections were successful\n- Query uses OR to check both error conditions\n- Student understands that empty results = success",
              "content": "Write a verification query that would catch ANY remaining errors:\n\n**Expected query**:\n```sql\nSELECT *\nFROM well_pollution\nWHERE description LIKE 'Clean_%'\n   OR (results = 'Clean' AND biological > 0.01)\n```\n\n**Success criteria**: This query should return **0 rows** after your corrections.\n\n**What it checks**:\n1. `description LIKE 'Clean_%'` - finds any remaining incorrect prefixes\n2. `results = 'Clean' AND biological > 0.01` - finds contradictory data\n\nThe `OR` means if EITHER condition is true, the row has an error.",
              "learning_objectives": [
                {
                  "level": "create",
                  "description": "Create validation queries using OR for multiple error conditions"
                },
                {
                  "level": "evaluate",
                  "description": "Evaluate data quality after corrections"
                }
              ]
            },
            {
              "title": "Reflect on the project's impact",
              "subtask_type": "conversational",
              "description": "Consider what you've accomplished and its real-world significance.",
              "content": "You've just completed a real data quality audit. Let's step back and appreciate what you've done:\n\n1. You explored unfamiliar data with curiosity\n2. You identified errors that could have harmed communities\n3. You carefully corrected the data\n4. You verified your work\n\nImagine this corrected data now goes to President Naledi's team. How might your work today affect decisions about water infrastructure? What families might benefit because the data is now accurate?",
              "dependencies": ["Write verification query"],
              "learning_objectives": [
                {
                  "level": "evaluate",
                  "description": "Evaluate the real-world impact of careful data work"
                }
              ],
              "tutor_guidance": {
                "teaching_approach": "End on a high note - connect their work to meaningful outcomes",
                "discussion_prompts": [
                  "How has your view of 'data analysis' changed?",
                  "What would you do differently if you encountered messy data again?",
                  "Why does careful, verified work matter more than fast work?"
                ]
              }
            },
            {
              "title": "Clean up the test table",
              "subtask_type": "exercise",
              "description": "Remove the copy table after successful updates to production",
              "estimated_minutes": 5,
              "dependencies": ["Reflect on the project's impact"],
              "acceptance_criteria": "- DROP TABLE command executed successfully\n- well_pollution_copy table no longer exists",
              "content": "Now that your updates have been verified and applied to the production table, clean up by removing the test copy:\n\n**Expected query**:\n```sql\nDROP TABLE well_pollution_copy\n```\n\nThis completes the data correction workflow.",
              "learning_objectives": [
                {
                  "level": "apply",
                  "description": "Apply DROP TABLE to clean up temporary tables"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
