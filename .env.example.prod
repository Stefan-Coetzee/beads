# Production — all security enforced
# Use K8s secrets or environment injection. Do NOT commit with real values.

LTT_ENV=prod
LTT_DATABASE_URL=postgresql+asyncpg://ltt_user:SECRET@db-host:5432/ltt_prod?ssl=require

# Checkpoint DB — separate database for conversation state (psycopg format)
LTT_CHECKPOINT_DATABASE_URL=postgresql://ltt_user:SECRET@db-host:5432/ltt_checkpoints?sslmode=require

# Redis required for LTI session storage
LTT_REDIS_URL=redis://redis-host:6379/0

# Auth enforced — all API requests must have valid X-LTI-Launch-Id
LTT_AUTH_ENABLED=true

# LTI keys — inline PEM (K8s secret) or volume-mounted file paths
LTT_LTI_PLATFORM_URL=https://your-openedx-instance.example.com
LTT_LTI_PLATFORM_CONFIG=configs/lti/platform.json
LTT_LTI_PRIVATE_KEY=configs/lti/private.key
LTT_LTI_PUBLIC_KEY=configs/lti/public.key

# CORS — only your Open edX platform
LTT_CORS_ORIGINS=["https://your-openedx-instance.example.com"]
LTT_CSP_FRAME_ANCESTORS='self' https://your-openedx-instance.example.com

# Frontend redirect after LTI launch
LTT_FRONTEND_URL=https://ltt.example.com

# Debug endpoints DISABLED in prod
LTT_DEBUG=false
LTT_LOG_LEVEL=INFO

# Agent
LTT_ANTHROPIC_API_KEY=sk-ant-...
